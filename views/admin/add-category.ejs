<%- include('../partials/admin/header.ejs') %>
<!--End topbar header-->
<div class="clearfix"></div>

<div class="content-wrapper">
    <div class="container-fluid">

        <div class="row mt-3">
            <div class="col-lg-6">
                <div class="card" style="margin-top: 60px; margin-left: 60px;">
                    <div class="card-body">
                        <div class="card-title">ADD NEW CATEGORY</div>
                        <hr>
                        <form method="post" onsubmit="return validateForm()">
                            <div class="form-group">
                                <label for="input-1">Category Name</label>
                                <input type="text" name="category" required class="form-control" id="input-1"
                                    placeholder="Enter category Name">
                                <div class="d-none" id="category_error" style="color: red;">Category Name is required, should not start with spaces, and should have a minimum of 3 letters</div>
                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-light px-5"><i class="icon-lock"></i> ADD</button>
                            </div>
                        </form>
                        <% if(typeof message !=='undefined' ){ %>
                        <h6><br>
                            <%= message %>
                        </h6>
                        <% } %>
                    </div>
                </div>
            </div>
        </div><!--End Row-->

        <script>
            function validateForm() {
                const categoryInput = document.querySelector('input[name="category"]');
                const categoryError = document.getElementById('category_error');

                const isCategoryValid = validateCategoryName(categoryInput, categoryError);

                return isCategoryValid;
            }

            function validateCategoryName(input, errorElement) {
                const categoryName = input.value.trim(); // Trim leading and trailing white spaces

                if (categoryName.length >= 3 && !categoryName.startsWith(" ")) {
                    errorElement.classList.add("d-none");
                    return true;
                } else {
                    errorElement.classList.remove("d-none");
                    return false;
                }
            }
        </script>

        <%- include('../partials/admin/footer.ejs') %>
